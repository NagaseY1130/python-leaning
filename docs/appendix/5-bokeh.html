
<!DOCTYPE html>

<html lang="jp">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>▲Bokehライブラリ &#8212; Pythonプログラミング入門  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="▲Pythonスクリプトとコマンドライン実行" href="5-command.html" />
    <link rel="prev" title="▲CSVファイルの入出力" href="4-csv.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="▲Bokehライブラリ">
<h1>▲Bokehライブラリ<a class="headerlink" href="#▲Bokehライブラリ" title="Permalink to this heading">¶</a></h1>
<p>Bokehライブラリについて説明します。</p>
<p>参考</p>
<ul class="simple">
<li><p><a class="reference external" href="https://bokeh.pydata.org/">https://bokeh.pydata.org/</a></p></li>
</ul>
<p><a class="reference external" href="https://bokeh.pydata.org/">Bokeh</a>は、データを可視化するためのライブラリです。 <code class="docutils literal notranslate"><span class="pre">bokeh</span></code> モジュールを使った、基本的なグラフの描画について説明します。</p>
<section id="線グラフ">
<h2>線グラフ<a class="headerlink" href="#線グラフ" title="Permalink to this heading">¶</a></h2>
<p>Bokehライブラリ使用してグラフを描画するには、<code class="docutils literal notranslate"><span class="pre">bokeh.plotting</span></code> のモジュールをインポートします。 基本的なグラフの描画をノートブック上で行うには、図形を生成する <code class="docutils literal notranslate"><span class="pre">bokeh.plotting.figure()</span></code>、図形を表示する <code class="docutils literal notranslate"><span class="pre">bokeh.plotting.show()</span></code>、出力先をノートブック上に設定する <code class="docutils literal notranslate"><span class="pre">bokeh.plotting.output_notebook()</span></code> があれば充分です。 通例、<code class="docutils literal notranslate"><span class="pre">output_notebook()</span></code> は最初に呼び出されます。</p>
<p>グラフで可視化するデータは配列を用いることが多いため、<code class="docutils literal notranslate"><span class="pre">numpy</span></code> モジュールも併せてインポートします。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">show</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root">
        <a href="https://bokeh.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1002">Loading BokehJS ...</span>
    </div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    const el = document.getElementById("1002");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.3.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
          for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("1002")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script></div>
</div>
<p>次は、<code class="docutils literal notranslate"><span class="pre">figure()</span></code> が返す <code class="docutils literal notranslate"><span class="pre">Figure</span></code> クラスの <code class="docutils literal notranslate"><span class="pre">line()</span></code> メソッドを使って、リストの要素の数値をy軸の値としてグラフを描画しています。 y軸の値に対応するx軸の値は、リストの各要素のインデックスとしています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># プロットするデータ</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)),</span> <span class="n">d</span><span class="p">)</span> <span class="c1"># 第1引数がx軸、第2引数がy軸</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="9fee9846-f36e-4dde-83f6-edcba1e4ce01" data-root-id="1003"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"1819b337-3e10-4b26-a59a-5ae478bda597":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1012"}],"center":[{"id":"1015"},{"id":"1019"}],"left":[{"id":"1016"}],"renderers":[{"id":"1038"}],"title":{"id":"1040"},"toolbar":{"id":"1027"},"x_range":{"id":"1004"},"x_scale":{"id":"1008"},"y_range":{"id":"1006"},"y_scale":{"id":"1010"}},"id":"1003","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"data_source":{"id":"1034"},"glyph":{"id":"1035"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1037"},"nonselection_glyph":{"id":"1036"},"view":{"id":"1039"}},"id":"1038","type":"GlyphRenderer"},{"attributes":{},"id":"1046","type":"BasicTickFormatter"},{"attributes":{"tools":[{"id":"1020"},{"id":"1021"},{"id":"1022"},{"id":"1023"},{"id":"1024"},{"id":"1025"}]},"id":"1027","type":"Toolbar"},{"attributes":{},"id":"1043","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1036","type":"Line"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1035","type":"Line"},{"attributes":{},"id":"1006","type":"DataRange1d"},{"attributes":{},"id":"1048","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1026","type":"BoxAnnotation"},{"attributes":{"coordinates":null,"group":null},"id":"1040","type":"Title"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1049"},"selection_policy":{"id":"1048"}},"id":"1034","type":"ColumnDataSource"},{"attributes":{},"id":"1049","type":"Selection"},{"attributes":{},"id":"1044","type":"AllLabels"},{"attributes":{},"id":"1024","type":"ResetTool"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1037","type":"Line"},{"attributes":{"axis":{"id":"1012"},"coordinates":null,"group":null,"ticker":null},"id":"1015","type":"Grid"},{"attributes":{"axis":{"id":"1016"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1019","type":"Grid"},{"attributes":{},"id":"1023","type":"SaveTool"},{"attributes":{"overlay":{"id":"1026"}},"id":"1022","type":"BoxZoomTool"},{"attributes":{},"id":"1017","type":"BasicTicker"},{"attributes":{"source":{"id":"1034"}},"id":"1039","type":"CDSView"},{"attributes":{},"id":"1020","type":"PanTool"},{"attributes":{},"id":"1021","type":"WheelZoomTool"},{"attributes":{},"id":"1013","type":"BasicTicker"},{"attributes":{},"id":"1025","type":"HelpTool"},{"attributes":{},"id":"1010","type":"LinearScale"},{"attributes":{"coordinates":null,"formatter":{"id":"1043"},"group":null,"major_label_policy":{"id":"1044"},"ticker":{"id":"1017"}},"id":"1016","type":"LinearAxis"},{"attributes":{"coordinates":null,"formatter":{"id":"1046"},"group":null,"major_label_policy":{"id":"1047"},"ticker":{"id":"1013"}},"id":"1012","type":"LinearAxis"},{"attributes":{},"id":"1047","type":"AllLabels"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{},"id":"1004","type":"DataRange1d"}],"root_ids":["1003"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"1819b337-3e10-4b26-a59a-5ae478bda597","root_ids":["1003"],"roots":{"1003":"9fee9846-f36e-4dde-83f6-edcba1e4ce01"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">line()</span></code> メソッド（及び他の描画用メソッド）では、キーワード引数も使えます。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="6e9c1c45-85f4-4fa5-b3a6-64a05206a2ca" data-root-id="1106"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"93b5520a-34b5-4e87-afa7-c968389b4f8e":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1115"}],"center":[{"id":"1118"},{"id":"1122"}],"left":[{"id":"1119"}],"renderers":[{"id":"1141"}],"title":{"id":"1154"},"toolbar":{"id":"1130"},"x_range":{"id":"1107"},"x_scale":{"id":"1111"},"y_range":{"id":"1109"},"y_scale":{"id":"1113"}},"id":"1106","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1161","type":"AllLabels"},{"attributes":{},"id":"1127","type":"ResetTool"},{"attributes":{"tools":[{"id":"1123"},{"id":"1124"},{"id":"1125"},{"id":"1126"},{"id":"1127"},{"id":"1128"}]},"id":"1130","type":"Toolbar"},{"attributes":{},"id":"1120","type":"BasicTicker"},{"attributes":{"axis":{"id":"1119"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1122","type":"Grid"},{"attributes":{},"id":"1126","type":"SaveTool"},{"attributes":{},"id":"1123","type":"PanTool"},{"attributes":{"overlay":{"id":"1129"}},"id":"1125","type":"BoxZoomTool"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1138","type":"Line"},{"attributes":{"axis":{"id":"1115"},"coordinates":null,"group":null,"ticker":null},"id":"1118","type":"Grid"},{"attributes":{},"id":"1116","type":"BasicTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"1137"},"glyph":{"id":"1138"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1140"},"nonselection_glyph":{"id":"1139"},"view":{"id":"1142"}},"id":"1141","type":"GlyphRenderer"},{"attributes":{},"id":"1128","type":"HelpTool"},{"attributes":{},"id":"1113","type":"LinearScale"},{"attributes":{"coordinates":null,"formatter":{"id":"1157"},"group":null,"major_label_policy":{"id":"1158"},"ticker":{"id":"1120"}},"id":"1119","type":"LinearAxis"},{"attributes":{},"id":"1109","type":"DataRange1d"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1140","type":"Line"},{"attributes":{"coordinates":null,"formatter":{"id":"1160"},"group":null,"major_label_policy":{"id":"1161"},"ticker":{"id":"1116"}},"id":"1115","type":"LinearAxis"},{"attributes":{"source":{"id":"1137"}},"id":"1142","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1139","type":"Line"},{"attributes":{},"id":"1111","type":"LinearScale"},{"attributes":{},"id":"1107","type":"DataRange1d"},{"attributes":{},"id":"1163","type":"Selection"},{"attributes":{"coordinates":null,"group":null},"id":"1154","type":"Title"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1163"},"selection_policy":{"id":"1162"}},"id":"1137","type":"ColumnDataSource"},{"attributes":{},"id":"1124","type":"WheelZoomTool"},{"attributes":{},"id":"1162","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1129","type":"BoxAnnotation"},{"attributes":{},"id":"1157","type":"BasicTickFormatter"},{"attributes":{},"id":"1158","type":"AllLabels"},{"attributes":{},"id":"1160","type":"BasicTickFormatter"}],"root_ids":["1106"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"93b5520a-34b5-4e87-afa7-c968389b4f8e","root_ids":["1106"],"roots":{"1106":"6e9c1c45-85f4-4fa5-b3a6-64a05206a2ca"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p>次に示すように、複数のグラフをまとめてプロットして表示することもできます。 プロットするメソッドではグラフの線の色や線の種類を、<code class="docutils literal notranslate"><span class="pre">line_color</span></code> 引数や <code class="docutils literal notranslate"><span class="pre">line_dash</span></code> 引数で指定できます。 また、<code class="docutils literal notranslate"><span class="pre">legend_label</span></code> 引数に値を設定すると、プロットしたグラフが凡例に現れます。 引数の詳細は<a class="reference external" href="https://bokeh.pydata.org/en/latest/docs/reference/plotting.html#bokeh.plotting.figure.Figure.line">Figure.line</a>のページ（英語）を参照してください。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="ba3a46ad-de58-4f74-915f-711ccfa6e19a" data-root-id="1220"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"d0c2a844-6764-4f2d-b90e-582cf9637cef":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1229"}],"center":[{"id":"1232"},{"id":"1236"},{"id":"1268"}],"left":[{"id":"1233"}],"renderers":[{"id":"1255"},{"id":"1274"}],"title":{"id":"1257"},"toolbar":{"id":"1244"},"x_range":{"id":"1221"},"x_scale":{"id":"1225"},"y_range":{"id":"1223"},"y_scale":{"id":"1227"}},"id":"1220","subtype":"Figure","type":"Plot"},{"attributes":{"label":{"value":"quad"},"renderers":[{"id":"1274"}]},"id":"1289","type":"LegendItem"},{"attributes":{"line_alpha":0.2,"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1273","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1272","type":"Line"},{"attributes":{},"id":"1237","type":"PanTool"},{"attributes":{"overlay":{"id":"1243"}},"id":"1239","type":"BoxZoomTool"},{"attributes":{"coordinates":null,"formatter":{"id":"1263"},"group":null,"major_label_policy":{"id":"1264"},"ticker":{"id":"1230"}},"id":"1229","type":"LinearAxis"},{"attributes":{"axis":{"id":"1233"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1236","type":"Grid"},{"attributes":{},"id":"1240","type":"SaveTool"},{"attributes":{},"id":"1225","type":"LinearScale"},{"attributes":{},"id":"1234","type":"BasicTicker"},{"attributes":{},"id":"1241","type":"ResetTool"},{"attributes":{},"id":"1223","type":"DataRange1d"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1287"},"selection_policy":{"id":"1286"}},"id":"1270","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"1270"},"glyph":{"id":"1271"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1273"},"nonselection_glyph":{"id":"1272"},"view":{"id":"1275"}},"id":"1274","type":"GlyphRenderer"},{"attributes":{},"id":"1221","type":"DataRange1d"},{"attributes":{},"id":"1261","type":"AllLabels"},{"attributes":{"coordinates":null,"data_source":{"id":"1251"},"glyph":{"id":"1252"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1254"},"nonselection_glyph":{"id":"1253"},"view":{"id":"1256"}},"id":"1255","type":"GlyphRenderer"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,2,3,4]},"selected":{"id":"1266"},"selection_policy":{"id":"1265"}},"id":"1251","type":"ColumnDataSource"},{"attributes":{},"id":"1287","type":"Selection"},{"attributes":{"coordinates":null,"group":null},"id":"1257","type":"Title"},{"attributes":{"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1271","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1243","type":"BoxAnnotation"},{"attributes":{},"id":"1266","type":"Selection"},{"attributes":{"coordinates":null,"group":null,"items":[{"id":"1269"},{"id":"1289"}]},"id":"1268","type":"Legend"},{"attributes":{"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1252","type":"Line"},{"attributes":{"source":{"id":"1251"}},"id":"1256","type":"CDSView"},{"attributes":{},"id":"1286","type":"UnionRenderers"},{"attributes":{"tools":[{"id":"1237"},{"id":"1238"},{"id":"1239"},{"id":"1240"},{"id":"1241"},{"id":"1242"}]},"id":"1244","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1253","type":"Line"},{"attributes":{},"id":"1264","type":"AllLabels"},{"attributes":{"line_alpha":0.2,"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1254","type":"Line"},{"attributes":{},"id":"1238","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"1229"},"coordinates":null,"group":null,"ticker":null},"id":"1232","type":"Grid"},{"attributes":{},"id":"1230","type":"BasicTicker"},{"attributes":{},"id":"1265","type":"UnionRenderers"},{"attributes":{},"id":"1242","type":"HelpTool"},{"attributes":{},"id":"1263","type":"BasicTickFormatter"},{"attributes":{},"id":"1227","type":"LinearScale"},{"attributes":{"coordinates":null,"formatter":{"id":"1260"},"group":null,"major_label_policy":{"id":"1261"},"ticker":{"id":"1234"}},"id":"1233","type":"LinearAxis"},{"attributes":{"label":{"value":"linear"},"renderers":[{"id":"1255"}]},"id":"1269","type":"LegendItem"},{"attributes":{},"id":"1260","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"1270"}},"id":"1275","type":"CDSView"}],"root_ids":["1220"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"d0c2a844-6764-4f2d-b90e-582cf9637cef","root_ids":["1220"],"roots":{"1220":"ba3a46ad-de58-4f74-915f-711ccfa6e19a"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">figure()</span></code> 関数の引数に、軸のラベルや、グラフのタイトルを設定できます。 プロット点を線グラフ上に重ねたいときには、<code class="docutils literal notranslate"><span class="pre">circle()</span></code> メソッドや <code class="docutils literal notranslate"><span class="pre">cross()</span></code> メソッドで同色の円や十字を追加で描けばよいです。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Linear vs. Quadratic&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="9fe814b0-19a7-4cae-aab7-529491f0b950" data-root-id="1390"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"9ff243c4-8b26-470c-a077-acf20e53d16e":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1401"}],"center":[{"id":"1404"},{"id":"1408"},{"id":"1439"}],"left":[{"id":"1405"}],"renderers":[{"id":"1427"},{"id":"1445"},{"id":"1451"},{"id":"1472"}],"title":{"id":"1391"},"toolbar":{"id":"1416"},"x_range":{"id":"1393"},"x_scale":{"id":"1397"},"y_range":{"id":"1395"},"y_scale":{"id":"1399"}},"id":"1390","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1410","type":"WheelZoomTool"},{"attributes":{},"id":"1436","type":"UnionRenderers"},{"attributes":{},"id":"1522","type":"UnionRenderers"},{"attributes":{},"id":"1435","type":"AllLabels"},{"attributes":{"fill_color":{"value":"blue"},"hatch_color":{"value":"blue"},"line_color":{"value":"blue"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1442","type":"Circle"},{"attributes":{},"id":"1414","type":"HelpTool"},{"attributes":{"line_alpha":0.1,"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1425","type":"Line"},{"attributes":{},"id":"1464","type":"UnionRenderers"},{"attributes":{},"id":"1431","type":"BasicTickFormatter"},{"attributes":{"label":{"value":"linear"},"renderers":[{"id":"1427"}]},"id":"1440","type":"LegendItem"},{"attributes":{},"id":"1409","type":"PanTool"},{"attributes":{"line_alpha":0.2,"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1426","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1450","type":"Line"},{"attributes":{},"id":"1465","type":"Selection"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1465"},"selection_policy":{"id":"1464"}},"id":"1447","type":"ColumnDataSource"},{"attributes":{},"id":"1412","type":"SaveTool"},{"attributes":{"source":{"id":"1423"}},"id":"1428","type":"CDSView"},{"attributes":{},"id":"1413","type":"ResetTool"},{"attributes":{},"id":"1432","type":"AllLabels"},{"attributes":{},"id":"1437","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"1447"},"glyph":{"id":"1448"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1450"},"nonselection_glyph":{"id":"1449"},"view":{"id":"1452"}},"id":"1451","type":"GlyphRenderer"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,2,3,4]},"selected":{"id":"1437"},"selection_policy":{"id":"1436"}},"id":"1423","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1447"}},"id":"1452","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"1441"},"glyph":{"id":"1442"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1444"},"nonselection_glyph":{"id":"1443"},"view":{"id":"1446"}},"id":"1445","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.2},"line_color":{"value":"blue"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1444","type":"Circle"},{"attributes":{},"id":"1397","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"items":[{"id":"1440"},{"id":"1467"}]},"id":"1439","type":"Legend"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.1},"line_color":{"value":"blue"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1443","type":"Circle"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"1434"},"group":null,"major_label_policy":{"id":"1435"},"ticker":{"id":"1402"}},"id":"1401","type":"LinearAxis"},{"attributes":{"source":{"id":"1441"}},"id":"1446","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"1423"},"glyph":{"id":"1424"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1426"},"nonselection_glyph":{"id":"1425"},"view":{"id":"1428"}},"id":"1427","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1449","type":"Line"},{"attributes":{"axis":{"id":"1401"},"coordinates":null,"group":null,"ticker":null},"id":"1404","type":"Grid"},{"attributes":{},"id":"1402","type":"BasicTicker"},{"attributes":{},"id":"1523","type":"Selection"},{"attributes":{"tools":[{"id":"1409"},{"id":"1410"},{"id":"1411"},{"id":"1412"},{"id":"1413"},{"id":"1414"}]},"id":"1416","type":"Toolbar"},{"attributes":{"coordinates":null,"group":null,"text":"Linear vs. Quadratic"},"id":"1391","type":"Title"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"green"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"green"},"line_alpha":{"value":0.1},"line_color":{"value":"green"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1470","type":"Scatter"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1415","type":"BoxAnnotation"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1523"},"selection_policy":{"id":"1522"}},"id":"1468","type":"ColumnDataSource"},{"attributes":{},"id":"1462","type":"UnionRenderers"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,2,3,4]},"selected":{"id":"1463"},"selection_policy":{"id":"1462"}},"id":"1441","type":"ColumnDataSource"},{"attributes":{},"id":"1393","type":"DataRange1d"},{"attributes":{},"id":"1463","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"green"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"green"},"line_alpha":{"value":0.2},"line_color":{"value":"green"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1471","type":"Scatter"},{"attributes":{"label":{"value":"quad"},"renderers":[{"id":"1451"}]},"id":"1467","type":"LegendItem"},{"attributes":{"coordinates":null,"data_source":{"id":"1468"},"glyph":{"id":"1469"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1471"},"nonselection_glyph":{"id":"1470"},"view":{"id":"1473"}},"id":"1472","type":"GlyphRenderer"},{"attributes":{"line_color":"blue","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1424","type":"Line"},{"attributes":{},"id":"1395","type":"DataRange1d"},{"attributes":{"line_color":"green","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1448","type":"Line"},{"attributes":{"fill_color":{"value":"green"},"hatch_color":{"value":"green"},"line_color":{"value":"green"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1469","type":"Scatter"},{"attributes":{},"id":"1399","type":"LinearScale"},{"attributes":{"source":{"id":"1468"}},"id":"1473","type":"CDSView"},{"attributes":{"overlay":{"id":"1415"}},"id":"1411","type":"BoxZoomTool"},{"attributes":{},"id":"1434","type":"BasicTickFormatter"},{"attributes":{"axis":{"id":"1405"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1408","type":"Grid"},{"attributes":{},"id":"1406","type":"BasicTicker"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"1431"},"group":null,"major_label_policy":{"id":"1432"},"ticker":{"id":"1406"}},"id":"1405","type":"LinearAxis"}],"root_ids":["1390"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"9ff243c4-8b26-470c-a077-acf20e53d16e","root_ids":["1390"],"roots":{"1390":"9fe814b0-19a7-4cae-aab7-529491f0b950"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p>色の使い分けを全て自分で決めるのは面倒です。 良く使われる色のリストがパレットとして、提供されています。 次は、<code class="docutils literal notranslate"><span class="pre">d3</span></code> の <code class="docutils literal notranslate"><span class="pre">Category10</span></code> という種類の3色パレットを用いています。 詳細は、<a class="reference external" href="https://bokeh.pydata.org/en/latest/docs/reference/palettes.html">palette</a>のページを参照してください。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">d3</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">d3</span><span class="p">[</span><span class="s1">&#39;Category10&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Linear vs. Quadratic&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="da2da91b-7725-4049-a866-50b04df84d2c" data-root-id="1605"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"88fb3e1b-4eb3-4c10-a0c6-ce896aa19990":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1616"}],"center":[{"id":"1619"},{"id":"1623"},{"id":"1654"}],"left":[{"id":"1620"}],"renderers":[{"id":"1642"},{"id":"1660"},{"id":"1666"},{"id":"1687"}],"title":{"id":"1606"},"toolbar":{"id":"1631"},"x_range":{"id":"1608"},"x_scale":{"id":"1612"},"y_range":{"id":"1610"},"y_scale":{"id":"1614"}},"id":"1605","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"1683"}},"id":"1688","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"1662"},"glyph":{"id":"1663"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1665"},"nonselection_glyph":{"id":"1664"},"view":{"id":"1667"}},"id":"1666","type":"GlyphRenderer"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,2,3,4]},"selected":{"id":"1678"},"selection_policy":{"id":"1677"}},"id":"1656","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"#1f77b4"},"hatch_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1657","type":"Circle"},{"attributes":{"overlay":{"id":"1630"}},"id":"1626","type":"BoxZoomTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#ff7f0e"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"#ff7f0e"},"line_alpha":{"value":0.1},"line_color":{"value":"#ff7f0e"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1685","type":"Scatter"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#1f77b4"},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1659","type":"Circle"},{"attributes":{"line_color":"#1f77b4","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1639","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1641","type":"Line"},{"attributes":{"source":{"id":"1656"}},"id":"1661","type":"CDSView"},{"attributes":{},"id":"1647","type":"AllLabels"},{"attributes":{},"id":"1624","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1658","type":"Circle"},{"attributes":{},"id":"1652","type":"Selection"},{"attributes":{},"id":"1680","type":"Selection"},{"attributes":{},"id":"1649","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"1656"},"glyph":{"id":"1657"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1659"},"nonselection_glyph":{"id":"1658"},"view":{"id":"1661"}},"id":"1660","type":"GlyphRenderer"},{"attributes":{},"id":"1650","type":"AllLabels"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1754"},"selection_policy":{"id":"1753"}},"id":"1683","type":"ColumnDataSource"},{"attributes":{},"id":"1628","type":"ResetTool"},{"attributes":{"source":{"id":"1662"}},"id":"1667","type":"CDSView"},{"attributes":{"tools":[{"id":"1624"},{"id":"1625"},{"id":"1626"},{"id":"1627"},{"id":"1628"},{"id":"1629"}]},"id":"1631","type":"Toolbar"},{"attributes":{"fill_color":{"value":"#ff7f0e"},"hatch_color":{"value":"#ff7f0e"},"line_color":{"value":"#ff7f0e"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1684","type":"Scatter"},{"attributes":{},"id":"1754","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"1683"},"glyph":{"id":"1684"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1686"},"nonselection_glyph":{"id":"1685"},"view":{"id":"1688"}},"id":"1687","type":"GlyphRenderer"},{"attributes":{},"id":"1625","type":"WheelZoomTool"},{"attributes":{"label":{"value":"quad"},"renderers":[{"id":"1666"}]},"id":"1682","type":"LegendItem"},{"attributes":{"line_alpha":0.2,"line_color":"#ff7f0e","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1665","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#ff7f0e","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1664","type":"Line"},{"attributes":{},"id":"1679","type":"UnionRenderers"},{"attributes":{"coordinates":null,"group":null,"items":[{"id":"1655"},{"id":"1682"}]},"id":"1654","type":"Legend"},{"attributes":{},"id":"1677","type":"UnionRenderers"},{"attributes":{"line_color":"#ff7f0e","line_dash":[2,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1663","type":"Line"},{"attributes":{},"id":"1753","type":"UnionRenderers"},{"attributes":{},"id":"1678","type":"Selection"},{"attributes":{"source":{"id":"1638"}},"id":"1643","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"1638"},"glyph":{"id":"1639"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1641"},"nonselection_glyph":{"id":"1640"},"view":{"id":"1643"}},"id":"1642","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[6],"x":{"field":"x"},"y":{"field":"y"}},"id":"1640","type":"Line"},{"attributes":{},"id":"1627","type":"SaveTool"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,2,3,4]},"selected":{"id":"1652"},"selection_policy":{"id":"1651"}},"id":"1638","type":"ColumnDataSource"},{"attributes":{},"id":"1612","type":"LinearScale"},{"attributes":{"axis":{"id":"1616"},"coordinates":null,"group":null,"ticker":null},"id":"1619","type":"Grid"},{"attributes":{},"id":"1629","type":"HelpTool"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"1649"},"group":null,"major_label_policy":{"id":"1650"},"ticker":{"id":"1617"}},"id":"1616","type":"LinearAxis"},{"attributes":{},"id":"1651","type":"UnionRenderers"},{"attributes":{},"id":"1614","type":"LinearScale"},{"attributes":{},"id":"1608","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1630","type":"BoxAnnotation"},{"attributes":{},"id":"1610","type":"DataRange1d"},{"attributes":{},"id":"1646","type":"BasicTickFormatter"},{"attributes":{"label":{"value":"linear"},"renderers":[{"id":"1642"}]},"id":"1655","type":"LegendItem"},{"attributes":{"coordinates":null,"group":null,"text":"Linear vs. Quadratic"},"id":"1606","type":"Title"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"1646"},"group":null,"major_label_policy":{"id":"1647"},"ticker":{"id":"1621"}},"id":"1620","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#ff7f0e"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#ff7f0e"},"line_alpha":{"value":0.2},"line_color":{"value":"#ff7f0e"},"marker":{"value":"cross"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"1686","type":"Scatter"},{"attributes":{"data":{"x":[0,1,2,3,4],"y":[0,1,4,9,16]},"selected":{"id":"1680"},"selection_policy":{"id":"1679"}},"id":"1662","type":"ColumnDataSource"},{"attributes":{},"id":"1617","type":"BasicTicker"},{"attributes":{"axis":{"id":"1620"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1623","type":"Grid"},{"attributes":{},"id":"1621","type":"BasicTicker"}],"root_ids":["1605"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"88fb3e1b-4eb3-4c10-a0c6-ce896aa19990","root_ids":["1605"],"roots":{"1605":"da2da91b-7725-4049-a866-50b04df84d2c"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p>グラフを描画するときのプロット数を増やすことで任意の曲線のグラフを作成することもできます。 次の例では、<code class="docutils literal notranslate"><span class="pre">numpy</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">arange()</span></code> 関数を用いて、<span class="math notranslate nohighlight">\(- \pi\)</span> から <span class="math notranslate nohighlight">\(\pi\)</span> の範囲を <code class="docutils literal notranslate"><span class="pre">0.1</span></code> 刻みでx軸の値を配列として準備しています。 そのx軸の値に対して、<code class="docutils literal notranslate"><span class="pre">numpy</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">cos()</span></code> 関数と <code class="docutils literal notranslate"><span class="pre">sin()</span></code> 関数を用いて、y軸の値をそれぞれ準備し、cosカーブとsinカーブを描画しています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#　グラフのx軸の値となる配列</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># 上記配列をcos, sin関数に渡し, y軸の値として描画</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;cos and sin Curves&#39;</span><span class="p">,</span> <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="4aaecd5d-e672-4855-9031-3f486685fe4c" data-root-id="1836"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"099325a1-a30d-45f7-a39f-8b5c7fee9c79":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1847"}],"center":[{"id":"1850"},{"id":"1854"}],"left":[{"id":"1851"}],"renderers":[{"id":"1873"},{"id":"1879"}],"title":{"id":"1837"},"toolbar":{"id":"1862"},"x_range":{"id":"1839"},"x_scale":{"id":"1843"},"y_range":{"id":"1841"},"y_scale":{"id":"1845"}},"id":"1836","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1956","type":"Selection"},{"attributes":{},"id":"1859","type":"ResetTool"},{"attributes":{},"id":"1856","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"1851"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1854","type":"Grid"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"1950"},"group":null,"major_label_policy":{"id":"1951"},"ticker":{"id":"1852"}},"id":"1851","type":"LinearAxis"},{"attributes":{},"id":"1852","type":"BasicTicker"},{"attributes":{},"id":"1957","type":"UnionRenderers"},{"attributes":{},"id":"1858","type":"SaveTool"},{"attributes":{},"id":"1860","type":"HelpTool"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1872","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"1875"},"glyph":{"id":"1876"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1878"},"nonselection_glyph":{"id":"1877"},"view":{"id":"1880"}},"id":"1879","type":"GlyphRenderer"},{"attributes":{},"id":"1855","type":"PanTool"},{"attributes":{},"id":"1958","type":"Selection"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"1953"},"group":null,"major_label_policy":{"id":"1954"},"ticker":{"id":"1848"}},"id":"1847","type":"LinearAxis"},{"attributes":{"overlay":{"id":"1861"}},"id":"1857","type":"BoxZoomTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1871","type":"Line"},{"attributes":{"source":{"id":"1869"}},"id":"1874","type":"CDSView"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1870","type":"Line"},{"attributes":{},"id":"1843","type":"LinearScale"},{"attributes":{"data":{"x":{"__ndarray__":"GC1EVPshCcBLYHeHLlUIwH6TqrphiAfAscbd7ZS7BsDk+RAhyO4FwBctRFT7IQXASmB3hy5VBMB9k6q6YYgDwLDG3e2UuwLA4/kQIcjuAcAWLURU+yEBwElgd4cuVQDA+CZVdcMQ/79ejbvbKXf9v8TzIUKQ3fu/KlqIqPZD+r+QwO4OXar4v/YmVXXDEPe/XI272yl39b/C8yFCkN3zvyhaiKj2Q/K/jsDuDl2q8L/oTarqhiHuv7Qad7dT7uq/gOdDhCC7579MtBBR7YfkvxiB3R26VOG/yJtU1Q1D3L9gNe5up9zVv/CdDxGC7M6/INFCRLUfwr9AEdjdoUulvwAiW1WR560/UJUjIrFGxD8QMXj3vonQP3iX3l0l8NY/4P1ExItW3T8kslUVed7hP1jliEisEeU/jBi8e99E6D/AS++uEnjrP/B+IuJFq+4/FNmqijzv8D+wckQk1ojyP0gM3r1vIvQ/4KV3Vwm89T98PxHxolX3PxjZqoo87/g/sHJEJNaI+j9IDN69byL8P+Sld1cJvP0/gD8R8aJV/z+MbFVFnncAQFg5IhJrRAFAJgbv3jcRAkD00rurBN4CQMCfiHjRqgNAjGxVRZ53BEBaOSISa0QFQCgG7943EQZA9NK7qwTeBkDAn4h40aoHQI5sVUWedwhA","dtype":"float64","order":"little","shape":[63]},"y":{"__ndarray__":"AAAAAAAA8L/AF6j5Etfvv3pid5W0XO+/uQkv1B2S7r/2otvnVHntv019WwYoFey/EVtIPCZp6r+OnZ9Slnnov2CYcd5rS+a/FuKSljrk47+EBrUPKErhvwFhxwa4B92/v3k7lN4w179KTCposx7Rv9dWE7x7wcW/P/nFT9Ubsr/WF1/FeuadP8JsovT5fcA/tA4lT/UUzT/LRTS5xrDUPyRyU1cmoto/2J6YBLMn4D9+rYhLANXiP/AvMBciUuU/k9GQtLqY5z+Ki4Xv96LpP3v0gPaha+s/rwNmsyju7D9TcFd3rybuP89Ao9sWEu8/1uWFvgSu7z8lplZH6vjvP7TLueIH8u8/sgunLG+Z7z/8vV7DAvDuP1UawQN09+0/TCzStD6y7D8o2X2toiPrP9ao24SbT+k/08g0YtY65z+oJNsGpurkP08tajD1ZOI/48aK7G5g3z8IOxaSsabZP2vCYnxXq9M/6TxYVFv7yj+DjFkrB7a8P+1fUEM6X4k/h0FOWFVmtr/mFnwno9/HvyhLa3CFJ9K/91zkjskw2L83azdZLfzdv/cydD9vveG/q7Alb2dP5L9r1Ac8bK3mv54Kg4hv0ei/Qf4Nlve16r86cqcGLVbsvztQ+T7nre2/AyN4Cbe57r+7mElf73bvv9KpeUCs4++/","dtype":"float64","order":"little","shape":[63]}},"selected":{"id":"1956"},"selection_policy":{"id":"1955"}},"id":"1869","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"1877","type":"Line"},{"attributes":{"tools":[{"id":"1855"},{"id":"1856"},{"id":"1857"},{"id":"1858"},{"id":"1859"},{"id":"1860"}]},"id":"1862","type":"Toolbar"},{"attributes":{},"id":"1951","type":"AllLabels"},{"attributes":{},"id":"1954","type":"AllLabels"},{"attributes":{},"id":"1955","type":"UnionRenderers"},{"attributes":{},"id":"1841","type":"DataRange1d"},{"attributes":{"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"1876","type":"Line"},{"attributes":{},"id":"1848","type":"BasicTicker"},{"attributes":{},"id":"1845","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"text":"cos and sin Curves"},"id":"1837","type":"Title"},{"attributes":{"line_alpha":0.2,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"1878","type":"Line"},{"attributes":{},"id":"1950","type":"BasicTickFormatter"},{"attributes":{},"id":"1953","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"1869"},"glyph":{"id":"1870"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1872"},"nonselection_glyph":{"id":"1871"},"view":{"id":"1874"}},"id":"1873","type":"GlyphRenderer"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1861","type":"BoxAnnotation"},{"attributes":{"data":{"x":{"__ndarray__":"GC1EVPshCcBLYHeHLlUIwH6TqrphiAfAscbd7ZS7BsDk+RAhyO4FwBctRFT7IQXASmB3hy5VBMB9k6q6YYgDwLDG3e2UuwLA4/kQIcjuAcAWLURU+yEBwElgd4cuVQDA+CZVdcMQ/79ejbvbKXf9v8TzIUKQ3fu/KlqIqPZD+r+QwO4OXar4v/YmVXXDEPe/XI272yl39b/C8yFCkN3zvyhaiKj2Q/K/jsDuDl2q8L/oTarqhiHuv7Qad7dT7uq/gOdDhCC7579MtBBR7YfkvxiB3R26VOG/yJtU1Q1D3L9gNe5up9zVv/CdDxGC7M6/INFCRLUfwr9AEdjdoUulvwAiW1WR560/UJUjIrFGxD8QMXj3vonQP3iX3l0l8NY/4P1ExItW3T8kslUVed7hP1jliEisEeU/jBi8e99E6D/AS++uEnjrP/B+IuJFq+4/FNmqijzv8D+wckQk1ojyP0gM3r1vIvQ/4KV3Vwm89T98PxHxolX3PxjZqoo87/g/sHJEJNaI+j9IDN69byL8P+Sld1cJvP0/gD8R8aJV/z+MbFVFnncAQFg5IhJrRAFAJgbv3jcRAkD00rurBN4CQMCfiHjRqgNAjGxVRZ53BEBaOSISa0QFQCgG7943EQZA9NK7qwTeBkDAn4h40aoHQI5sVUWedwhA","dtype":"float64","order":"little","shape":[63]},"y":{"__ndarray__":"B1wUMyamobw7y4vLro65v8fSPSP/bcm/Orq6lc3p0r9yZyvpOuzYv/kFS3Tort6/XkGlF40R4r+9GUZpbp3kv9L+v8KU9Oa/RqhdmAMR6b/zDAmPVO3qvzxjLUzFhOy/yFUaokPT7b9OHsX5d9XuvwThRN/NiO+/jG0sm3rr77/FQuDHgfzvv7WYL9e3u++/7RW9gcIp779SOBofF0juvz+00er2GO2/83LrP2mf67/+1qrZM9/pvxYvWC3R3Oe/jNHD9WSd5b+gys8Nrybjv6mFoLv8fuC/5qYkJDFa27+Y5V0jcnDVv4EwSNa4n86/+NS2bTgQwr+dDpiCD0qlv8Mu6Dk3460/+gy3ygIxxD+kTP8QyVrQP1Ziun47c9Y/JdLwQ0FS3D9ZGy7savTgP7fA7P9WlOM/47MfLS4C5j/EHtzduTfoP8vI4npTL+o/6BLQ3/Lj6z82igE6O1HtP/ooRTGGc+4/h0DHPe1H7z++7F0TUczvP1PsNw9f/+8//D0MmpTg7z+e6yJ2QHDvPyeZ4PWBr+4/qSLYHEag7T/EJLqyQkXsPyQSvFTvoeo/VgUyl3y66D80sApOyZPmP5X1lhdWM+Q/fsd6STef4T+B347HCrzdP8C8C2SY7dc/YqKwivHh0T+6+jPXGVHHP5bLvttYRbU/","dtype":"float64","order":"little","shape":[63]}},"selected":{"id":"1958"},"selection_policy":{"id":"1957"}},"id":"1875","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1875"}},"id":"1880","type":"CDSView"},{"attributes":{"axis":{"id":"1847"},"coordinates":null,"group":null,"ticker":null},"id":"1850","type":"Grid"},{"attributes":{},"id":"1839","type":"DataRange1d"}],"root_ids":["1836"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"099325a1-a30d-45f7-a39f-8b5c7fee9c79","root_ids":["1836"],"roots":{"1836":"4aaecd5d-e672-4855-9031-3f486685fe4c"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p>プロットの数を少なくすると、曲線は直線をつなぎ合わせることで描画されていることがわかります。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;cos and sin Curves&#39;</span><span class="p">,</span> <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="be951144-8d8d-4348-91eb-a702143b27ed" data-root-id="2020"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"33487780-da15-4ee7-8022-1e188fded471":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2031"}],"center":[{"id":"2034"},{"id":"2038"}],"left":[{"id":"2035"}],"renderers":[{"id":"2057"},{"id":"2063"}],"title":{"id":"2021"},"toolbar":{"id":"2046"},"x_range":{"id":"2023"},"x_scale":{"id":"2027"},"y_range":{"id":"2025"},"y_scale":{"id":"2029"}},"id":"2020","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2043","type":"ResetTool"},{"attributes":{},"id":"2042","type":"SaveTool"},{"attributes":{},"id":"2153","type":"UnionRenderers"},{"attributes":{},"id":"2032","type":"BasicTicker"},{"attributes":{"overlay":{"id":"2045"}},"id":"2041","type":"BoxZoomTool"},{"attributes":{},"id":"2029","type":"LinearScale"},{"attributes":{},"id":"2039","type":"PanTool"},{"attributes":{},"id":"2152","type":"Selection"},{"attributes":{},"id":"2027","type":"LinearScale"},{"attributes":{},"id":"2044","type":"HelpTool"},{"attributes":{},"id":"2147","type":"AllLabels"},{"attributes":{},"id":"2151","type":"UnionRenderers"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2055","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2061","type":"Line"},{"attributes":{},"id":"2036","type":"BasicTicker"},{"attributes":{"axis":{"id":"2035"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2038","type":"Grid"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"2146"},"group":null,"major_label_policy":{"id":"2147"},"ticker":{"id":"2036"}},"id":"2035","type":"LinearAxis"},{"attributes":{},"id":"2025","type":"DataRange1d"},{"attributes":{"coordinates":null,"data_source":{"id":"2053"},"glyph":{"id":"2054"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2056"},"nonselection_glyph":{"id":"2055"},"view":{"id":"2058"}},"id":"2057","type":"GlyphRenderer"},{"attributes":{},"id":"2146","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"2059"},"glyph":{"id":"2060"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2062"},"nonselection_glyph":{"id":"2061"},"view":{"id":"2064"}},"id":"2063","type":"GlyphRenderer"},{"attributes":{"source":{"id":"2059"}},"id":"2064","type":"CDSView"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2054","type":"Line"},{"attributes":{},"id":"2150","type":"AllLabels"},{"attributes":{"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2060","type":"Line"},{"attributes":{"axis":{"id":"2031"},"coordinates":null,"group":null,"ticker":null},"id":"2034","type":"Grid"},{"attributes":{"tools":[{"id":"2039"},{"id":"2040"},{"id":"2041"},{"id":"2042"},{"id":"2043"},{"id":"2044"}]},"id":"2046","type":"Toolbar"},{"attributes":{},"id":"2040","type":"WheelZoomTool"},{"attributes":{},"id":"2023","type":"DataRange1d"},{"attributes":{},"id":"2149","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"group":null,"text":"cos and sin Curves"},"id":"2021","type":"Title"},{"attributes":{"data":{"x":{"__ndarray__":"GC1EVPshCcAYLURU+yEFwBgtRFT7IQHAMFqIqPZD+r8wWoio9kPyv2C0EFHth+S/gNFCRLUfwr9Al95dJfDWP6BL764SeOs/0KV3Vwm89T/QpXdXCbz9P+jSu6sE3gJA6NK7qwTeBkA=","dtype":"float64","order":"little","shape":[13]},"y":{"__ndarray__":"AAAAAAAA8L9PfVsGKBXsv4sGtQ8oSuG/nvnFT9Ubsr8HclNXJqLaP36Lhe/3ouk/0+WFvgSu7z9fGsEDdPftP8Ak2wam6uQ/Zj1YVFv7yj/bSmtwhSfSv0nUBzxsrea/9iJ4Cbe57r8=","dtype":"float64","order":"little","shape":[13]}},"selected":{"id":"2152"},"selection_policy":{"id":"2151"}},"id":"2053","type":"ColumnDataSource"},{"attributes":{"source":{"id":"2053"}},"id":"2058","type":"CDSView"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"2149"},"group":null,"major_label_policy":{"id":"2150"},"ticker":{"id":"2032"}},"id":"2031","type":"LinearAxis"},{"attributes":{"data":{"x":{"__ndarray__":"GC1EVPshCcAYLURU+yEFwBgtRFT7IQHAMFqIqPZD+r8wWoio9kPyv2C0EFHth+S/gNFCRLUfwr9Al95dJfDWP6BL764SeOs/0KV3Vwm89T/QpXdXCbz9P+jSu6sE3gJA6NK7qwTeBkA=","dtype":"float64","order":"little","shape":[13]},"y":{"__ndarray__":"B1wUMyamobzyBUt06K7ev+8MCY9U7eq/i20sm3rr779FtNHq9hjtv7DKzw2vJuO/V9W2bTgQwr8hYrp+O3PWP68e3N25N+g/gUDHPe1H7z8zmeD1ga/uP1awCk7Jk+Y/vqKwivHh0T8=","dtype":"float64","order":"little","shape":[13]}},"selected":{"id":"2154"},"selection_policy":{"id":"2153"}},"id":"2059","type":"ColumnDataSource"},{"attributes":{},"id":"2154","type":"Selection"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2056","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2045","type":"BoxAnnotation"},{"attributes":{"line_alpha":0.2,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2062","type":"Line"}],"root_ids":["2020"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"33487780-da15-4ee7-8022-1e188fded471","root_ids":["2020"],"roots":{"2020":"be951144-8d8d-4348-91eb-a702143b27ed"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<section id="グラフの例：ソートアルゴリズムにおける比較回数">
<h3>グラフの例：ソートアルゴリズムにおける比較回数<a class="headerlink" href="#グラフの例：ソートアルゴリズムにおける比較回数" title="Permalink to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">lst</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">n</span>

<span class="k">def</span> <span class="nf">merge_sort_rec</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">work</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">l</span><span class="o">+</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">l</span><span class="o">+</span><span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
    <span class="n">n1</span> <span class="o">=</span> <span class="n">merge_sort_rec</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">work</span><span class="p">)</span>
    <span class="n">n2</span> <span class="o">=</span> <span class="n">merge_sort_rec</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">work</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">i1</span> <span class="o">=</span> <span class="n">l</span>
    <span class="n">i2</span> <span class="o">=</span> <span class="n">m</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="n">from1</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">i2</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">:</span>
            <span class="n">from1</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">i1</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">data</span><span class="p">[</span><span class="n">i2</span><span class="p">]:</span>
                <span class="n">from1</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">from1</span><span class="p">:</span>
            <span class="n">work</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span>
            <span class="n">i1</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">work</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span>
            <span class="n">i2</span> <span class="o">=</span> <span class="n">i2</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">work</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">n1</span><span class="o">+</span><span class="n">n2</span><span class="o">+</span><span class="n">n</span>

<span class="k">def</span> <span class="nf">merge_sort</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">merge_sort_rec</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">bdata</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">bubble_sort</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">)])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
<span class="n">mdata</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">merge_sort</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">)])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;bubble sort vs. merge sort&#39;</span><span class="p">,</span> <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;number of items&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;number of comparisons&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bdata</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bdata</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mdata</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mdata</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="b3abaa24-ecaa-42fb-b6f0-dca3d124ba88" data-root-id="2216"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"6374fcc0-8b27-486d-a014-b115aa6c44ac":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2227"}],"center":[{"id":"2230"},{"id":"2234"}],"left":[{"id":"2231"}],"renderers":[{"id":"2253"},{"id":"2259"},{"id":"2265"},{"id":"2271"}],"title":{"id":"2217"},"toolbar":{"id":"2242"},"x_range":{"id":"2219"},"x_scale":{"id":"2223"},"y_range":{"id":"2221"},"y_scale":{"id":"2225"}},"id":"2216","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#1f77b4"},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2258","type":"Circle"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2252","type":"Line"},{"attributes":{},"id":"2376","type":"Selection"},{"attributes":{},"id":"2223","type":"LinearScale"},{"attributes":{"axis":{"id":"2227"},"coordinates":null,"group":null,"ticker":null},"id":"2230","type":"Grid"},{"attributes":{},"id":"2375","type":"UnionRenderers"},{"attributes":{},"id":"2370","type":"AllLabels"},{"attributes":{"coordinates":null,"group":null,"text":"bubble sort vs. merge sort"},"id":"2217","type":"Title"},{"attributes":{"source":{"id":"2267"}},"id":"2272","type":"CDSView"},{"attributes":{"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2262","type":"Line"},{"attributes":{},"id":"2228","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2251","type":"Line"},{"attributes":{},"id":"2366","type":"BasicTickFormatter"},{"attributes":{},"id":"2239","type":"ResetTool"},{"attributes":{"axis_label":"number of items","coordinates":null,"formatter":{"id":"2369"},"group":null,"major_label_policy":{"id":"2370"},"ticker":{"id":"2228"}},"id":"2227","type":"LinearAxis"},{"attributes":{"fill_color":{"value":"#1f77b4"},"hatch_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2256","type":"Circle"},{"attributes":{"data":{"x":[100,200,300,400,500,600,700,800,900,1000],"y":[4950,19900,44850,79800,124750,179700,244650,319600,404550,499500]},"selected":{"id":"2374"},"selection_policy":{"id":"2373"}},"id":"2255","type":"ColumnDataSource"},{"attributes":{},"id":"2367","type":"AllLabels"},{"attributes":{"data":{"x":[100,200,300,400,500,600,700,800,900,1000],"y":[4950,19900,44850,79800,124750,179700,244650,319600,404550,499500]},"selected":{"id":"2372"},"selection_policy":{"id":"2371"}},"id":"2249","type":"ColumnDataSource"},{"attributes":{},"id":"2235","type":"PanTool"},{"attributes":{},"id":"2369","type":"BasicTickFormatter"},{"attributes":{},"id":"2219","type":"DataRange1d"},{"attributes":{},"id":"2371","type":"UnionRenderers"},{"attributes":{},"id":"2240","type":"HelpTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2241","type":"BoxAnnotation"},{"attributes":{"coordinates":null,"data_source":{"id":"2261"},"glyph":{"id":"2262"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2264"},"nonselection_glyph":{"id":"2263"},"view":{"id":"2266"}},"id":"2265","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"2249"},"glyph":{"id":"2250"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2252"},"nonselection_glyph":{"id":"2251"},"view":{"id":"2254"}},"id":"2253","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#ff7f0e"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#ff7f0e"},"line_alpha":{"value":0.2},"line_color":{"value":"#ff7f0e"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2270","type":"Circle"},{"attributes":{},"id":"2238","type":"SaveTool"},{"attributes":{"source":{"id":"2261"}},"id":"2266","type":"CDSView"},{"attributes":{},"id":"2236","type":"WheelZoomTool"},{"attributes":{"tools":[{"id":"2235"},{"id":"2236"},{"id":"2237"},{"id":"2238"},{"id":"2239"},{"id":"2240"}]},"id":"2242","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2263","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#ff7f0e"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"#ff7f0e"},"line_alpha":{"value":0.1},"line_color":{"value":"#ff7f0e"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2269","type":"Circle"},{"attributes":{},"id":"2372","type":"Selection"},{"attributes":{},"id":"2378","type":"Selection"},{"attributes":{"axis":{"id":"2231"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2234","type":"Grid"},{"attributes":{"coordinates":null,"data_source":{"id":"2267"},"glyph":{"id":"2268"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2270"},"nonselection_glyph":{"id":"2269"},"view":{"id":"2272"}},"id":"2271","type":"GlyphRenderer"},{"attributes":{},"id":"2232","type":"BasicTicker"},{"attributes":{},"id":"2377","type":"UnionRenderers"},{"attributes":{"line_alpha":0.2,"line_color":"#ff7f0e","x":{"field":"x"},"y":{"field":"y"}},"id":"2264","type":"Line"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"2250","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2257","type":"Circle"},{"attributes":{"fill_color":{"value":"#ff7f0e"},"hatch_color":{"value":"#ff7f0e"},"line_color":{"value":"#ff7f0e"},"line_width":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"2268","type":"Circle"},{"attributes":{"source":{"id":"2255"}},"id":"2260","type":"CDSView"},{"attributes":{"data":{"x":[100,200,300,400,500,600,700,800,900,1000],"y":[545,1262,2093,2955,3847,4802,5753,6726,7730,8718]},"selected":{"id":"2376"},"selection_policy":{"id":"2375"}},"id":"2261","type":"ColumnDataSource"},{"attributes":{"overlay":{"id":"2241"}},"id":"2237","type":"BoxZoomTool"},{"attributes":{"coordinates":null,"data_source":{"id":"2255"},"glyph":{"id":"2256"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2258"},"nonselection_glyph":{"id":"2257"},"view":{"id":"2260"}},"id":"2259","type":"GlyphRenderer"},{"attributes":{"axis_label":"number of comparisons","coordinates":null,"formatter":{"id":"2366"},"group":null,"major_label_policy":{"id":"2367"},"ticker":{"id":"2232"}},"id":"2231","type":"LinearAxis"},{"attributes":{"data":{"x":[100,200,300,400,500,600,700,800,900,1000],"y":[545,1262,2093,2955,3847,4802,5753,6726,7730,8718]},"selected":{"id":"2378"},"selection_policy":{"id":"2377"}},"id":"2267","type":"ColumnDataSource"},{"attributes":{"source":{"id":"2249"}},"id":"2254","type":"CDSView"},{"attributes":{},"id":"2373","type":"UnionRenderers"},{"attributes":{},"id":"2221","type":"DataRange1d"},{"attributes":{},"id":"2374","type":"Selection"},{"attributes":{},"id":"2225","type":"LinearScale"}],"root_ids":["2216"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"6374fcc0-8b27-486d-a014-b115aa6c44ac","root_ids":["2216"],"roots":{"2216":"b3abaa24-ecaa-42fb-b6f0-dca3d124ba88"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
</section>
</section>
<section id="散布図">
<h2>散布図<a class="headerlink" href="#散布図" title="Permalink to this heading">¶</a></h2>
<p>散布図の描画には、点のプロットを <code class="docutils literal notranslate"><span class="pre">marker</span></code> 引数で指定できる <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> メソッドが便利です。 以下では、ランダムに生成した20個の要素からなる配列 <code class="docutils literal notranslate"><span class="pre">x</span></code>、<code class="docutils literal notranslate"><span class="pre">y</span></code> の各要素の値の組みを点としてプロットした散布図を表示します。 プロットする点のマーカは円とし、<code class="docutils literal notranslate"><span class="pre">size</span></code> 引数で大きさを、<code class="docutils literal notranslate"><span class="pre">alpha</span></code> 引数で透明度を設定しています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#　グラフのx軸の値となる配列</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#　グラフのy軸の値となる配列</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="005f7769-7dfe-4340-8274-9f6cd978faf5" data-root-id="2460"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"dcfec97c-583a-4cc3-9ec5-04dfeee869b5":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2469"}],"center":[{"id":"2472"},{"id":"2476"}],"left":[{"id":"2473"}],"renderers":[{"id":"2495"}],"title":{"id":"2604"},"toolbar":{"id":"2484"},"x_range":{"id":"2461"},"x_scale":{"id":"2465"},"y_range":{"id":"2463"},"y_scale":{"id":"2467"}},"id":"2460","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2611","type":"AllLabels"},{"attributes":{},"id":"2478","type":"WheelZoomTool"},{"attributes":{},"id":"2610","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.5},"line_alpha":{"value":0.5},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2492","type":"Scatter"},{"attributes":{"coordinates":null,"data_source":{"id":"2491"},"glyph":{"id":"2492"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2494"},"nonselection_glyph":{"id":"2493"},"view":{"id":"2496"}},"id":"2495","type":"GlyphRenderer"},{"attributes":{},"id":"2477","type":"PanTool"},{"attributes":{"coordinates":null,"formatter":{"id":"2610"},"group":null,"major_label_policy":{"id":"2611"},"ticker":{"id":"2470"}},"id":"2469","type":"LinearAxis"},{"attributes":{"overlay":{"id":"2483"}},"id":"2479","type":"BoxZoomTool"},{"attributes":{},"id":"2480","type":"SaveTool"},{"attributes":{"coordinates":null,"formatter":{"id":"2607"},"group":null,"major_label_policy":{"id":"2608"},"ticker":{"id":"2474"}},"id":"2473","type":"LinearAxis"},{"attributes":{},"id":"2612","type":"UnionRenderers"},{"attributes":{},"id":"2613","type":"Selection"},{"attributes":{},"id":"2463","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2494","type":"Scatter"},{"attributes":{"axis":{"id":"2469"},"coordinates":null,"group":null,"ticker":null},"id":"2472","type":"Grid"},{"attributes":{"tools":[{"id":"2477"},{"id":"2478"},{"id":"2479"},{"id":"2480"},{"id":"2481"},{"id":"2482"}]},"id":"2484","type":"Toolbar"},{"attributes":{"axis":{"id":"2473"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2476","type":"Grid"},{"attributes":{"source":{"id":"2491"}},"id":"2496","type":"CDSView"},{"attributes":{},"id":"2470","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2493","type":"Scatter"},{"attributes":{},"id":"2461","type":"DataRange1d"},{"attributes":{},"id":"2474","type":"BasicTicker"},{"attributes":{"coordinates":null,"group":null},"id":"2604","type":"Title"},{"attributes":{},"id":"2607","type":"BasicTickFormatter"},{"attributes":{},"id":"2482","type":"HelpTool"},{"attributes":{"data":{"x":{"__ndarray__":"PnOb/hvv6T/wn5cO2uTDP+209e9cNuQ/3n71zRH+2T+KGEIA2iXpP3jSYc35CLg/dahYFf+h7D/E0I+MDCboP5ILRvPEa+0/THSiaxlgzj8eIxwdcfjRP+QHXYH84cc/8PjDn3HYqj89awTtmOPtP+iW6hRaINY/9HxPw3sL2D93fcE9hrfpPziS6MaT0Nk/0CGqoJ+PyD8WJ//mYt7uPw==","dtype":"float64","order":"little","shape":[20]},"y":{"__ndarray__":"lVZ1jYFC4j/WCSe2EW/fP3j2PxNxGtQ/w6auN93w7D+45ebCLl/SP3xZDBAfje8/0pHw17Ff6D+voFlt01fiPwQrtZs21+c//ODI0qZd3T+svmRA0cTTP7XVWyDBHOo/kFU7bPjvuT+otiDaCfvlPxpe3KeSO9M/RKPQlYlY6j+wrKBSk6rrPzjEnm0W1+I/OJKxXzZ27j8MxPAodNPgPw==","dtype":"float64","order":"little","shape":[20]}},"selected":{"id":"2613"},"selection_policy":{"id":"2612"}},"id":"2491","type":"ColumnDataSource"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2483","type":"BoxAnnotation"},{"attributes":{},"id":"2467","type":"LinearScale"},{"attributes":{},"id":"2608","type":"AllLabels"},{"attributes":{},"id":"2465","type":"LinearScale"},{"attributes":{},"id":"2481","type":"ResetTool"}],"root_ids":["2460"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"dcfec97c-583a-4cc3-9ec5-04dfeee869b5","root_ids":["2460"],"roots":{"2460":"005f7769-7dfe-4340-8274-9f6cd978faf5"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
<p>これと同じグラフは、単に <code class="docutils literal notranslate"><span class="pre">circle()</span></code> メソッドでプロットをすることでも描画できます。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="4bc24db2-a0bb-4e94-98e2-198be844997e" data-root-id="2670"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"726f8c69-3818-4e18-bce3-af8f4abb6918":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2679"}],"center":[{"id":"2682"},{"id":"2686"}],"left":[{"id":"2683"}],"renderers":[{"id":"2705"}],"title":{"id":"2825"},"toolbar":{"id":"2694"},"x_range":{"id":"2671"},"x_scale":{"id":"2675"},"y_range":{"id":"2673"},"y_scale":{"id":"2677"}},"id":"2670","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"formatter":{"id":"2828"},"group":null,"major_label_policy":{"id":"2829"},"ticker":{"id":"2684"}},"id":"2683","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2704","type":"Circle"},{"attributes":{},"id":"2834","type":"Selection"},{"attributes":{"data":{"x":{"__ndarray__":"PnOb/hvv6T/wn5cO2uTDP+209e9cNuQ/3n71zRH+2T+KGEIA2iXpP3jSYc35CLg/dahYFf+h7D/E0I+MDCboP5ILRvPEa+0/THSiaxlgzj8eIxwdcfjRP+QHXYH84cc/8PjDn3HYqj89awTtmOPtP+iW6hRaINY/9HxPw3sL2D93fcE9hrfpPziS6MaT0Nk/0CGqoJ+PyD8WJ//mYt7uPw==","dtype":"float64","order":"little","shape":[20]},"y":{"__ndarray__":"lVZ1jYFC4j/WCSe2EW/fP3j2PxNxGtQ/w6auN93w7D+45ebCLl/SP3xZDBAfje8/0pHw17Ff6D+voFlt01fiPwQrtZs21+c//ODI0qZd3T+svmRA0cTTP7XVWyDBHOo/kFU7bPjvuT+otiDaCfvlPxpe3KeSO9M/RKPQlYlY6j+wrKBSk6rrPzjEnm0W1+I/OJKxXzZ27j8MxPAodNPgPw==","dtype":"float64","order":"little","shape":[20]}},"selected":{"id":"2834"},"selection_policy":{"id":"2833"}},"id":"2701","type":"ColumnDataSource"},{"attributes":{},"id":"2673","type":"DataRange1d"},{"attributes":{"source":{"id":"2701"}},"id":"2706","type":"CDSView"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2693","type":"BoxAnnotation"},{"attributes":{},"id":"2675","type":"LinearScale"},{"attributes":{},"id":"2671","type":"DataRange1d"},{"attributes":{"coordinates":null,"formatter":{"id":"2831"},"group":null,"major_label_policy":{"id":"2832"},"ticker":{"id":"2680"}},"id":"2679","type":"LinearAxis"},{"attributes":{},"id":"2684","type":"BasicTicker"},{"attributes":{"axis":{"id":"2683"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2686","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2703","type":"Circle"},{"attributes":{},"id":"2828","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"2701"},"glyph":{"id":"2702"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2704"},"nonselection_glyph":{"id":"2703"},"view":{"id":"2706"}},"id":"2705","type":"GlyphRenderer"},{"attributes":{},"id":"2680","type":"BasicTicker"},{"attributes":{},"id":"2692","type":"HelpTool"},{"attributes":{},"id":"2829","type":"AllLabels"},{"attributes":{},"id":"2677","type":"LinearScale"},{"attributes":{},"id":"2688","type":"WheelZoomTool"},{"attributes":{},"id":"2690","type":"SaveTool"},{"attributes":{},"id":"2831","type":"BasicTickFormatter"},{"attributes":{},"id":"2687","type":"PanTool"},{"attributes":{"overlay":{"id":"2693"}},"id":"2689","type":"BoxZoomTool"},{"attributes":{},"id":"2691","type":"ResetTool"},{"attributes":{},"id":"2832","type":"AllLabels"},{"attributes":{"tools":[{"id":"2687"},{"id":"2688"},{"id":"2689"},{"id":"2690"},{"id":"2691"},{"id":"2692"}]},"id":"2694","type":"Toolbar"},{"attributes":{"axis":{"id":"2679"},"coordinates":null,"group":null,"ticker":null},"id":"2682","type":"Grid"},{"attributes":{"coordinates":null,"group":null},"id":"2825","type":"Title"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.5},"line_alpha":{"value":0.5},"line_color":{"value":"#1f77b4"},"size":{"value":16},"x":{"field":"x"},"y":{"field":"y"}},"id":"2702","type":"Circle"},{"attributes":{},"id":"2833","type":"UnionRenderers"}],"root_ids":["2670"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"726f8c69-3818-4e18-bce3-af8f4abb6918","root_ids":["2670"],"roots":{"2670":"4bc24db2-a0bb-4e94-98e2-198be844997e"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
</section>
<section id="棒グラフ">
<h2>棒グラフ<a class="headerlink" href="#棒グラフ" title="Permalink to this heading">¶</a></h2>
<p>棒グラフは、<code class="docutils literal notranslate"><span class="pre">vbar()</span></code> メソッドを用いて描画できます。 次の例では、ランダムに生成した10個の要素からなる配列 <code class="docutils literal notranslate"><span class="pre">y</span></code> の各要素の値を縦の棒グラフで表示しています。 <code class="docutils literal notranslate"><span class="pre">x</span></code> は、x軸上で棒グラフのバーの並ぶ位置を示しています。 ここでは、<code class="docutils literal notranslate"><span class="pre">numpy</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">arange()</span></code> 関数を用いて、<code class="docutils literal notranslate"><span class="pre">1</span></code> から <code class="docutils literal notranslate"><span class="pre">10</span></code> の範囲を <code class="docutils literal notranslate"><span class="pre">1</span></code> 刻みでx軸上のバーの並ぶ位置として配列を準備しています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># x軸上で棒の並ぶ位置となる配列</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1">#　グラフのy軸の値となる配列</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">vbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># 第2引数は幅</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="c91346b1-3f44-42f7-a20a-1ebb2225510d" data-root-id="2891"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"c8dab6a3-cac9-45cb-a801-b584e8767384":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2900"}],"center":[{"id":"2903"},{"id":"2907"}],"left":[{"id":"2904"}],"renderers":[{"id":"2926"}],"title":{"id":"3057"},"toolbar":{"id":"2915"},"x_range":{"id":"2892"},"x_scale":{"id":"2896"},"y_range":{"id":"2894"},"y_scale":{"id":"2898"}},"id":"2891","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"3061","type":"AllLabels"},{"attributes":{},"id":"3063","type":"BasicTickFormatter"},{"attributes":{},"id":"2911","type":"SaveTool"},{"attributes":{},"id":"3064","type":"AllLabels"},{"attributes":{"overlay":{"id":"2914"}},"id":"2910","type":"BoxZoomTool"},{"attributes":{},"id":"3066","type":"Selection"},{"attributes":{},"id":"2908","type":"PanTool"},{"attributes":{"coordinates":null,"data_source":{"id":"2922"},"glyph":{"id":"2923"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2925"},"nonselection_glyph":{"id":"2924"},"view":{"id":"2927"}},"id":"2926","type":"GlyphRenderer"},{"attributes":{},"id":"2912","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2914","type":"BoxAnnotation"},{"attributes":{},"id":"2909","type":"WheelZoomTool"},{"attributes":{},"id":"2892","type":"DataRange1d"},{"attributes":{},"id":"3065","type":"UnionRenderers"},{"attributes":{},"id":"2894","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"field":"top"},"width":{"value":0.5},"x":{"field":"x"}},"id":"2924","type":"VBar"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"top":{"field":"top"},"width":{"value":0.5},"x":{"field":"x"}},"id":"2923","type":"VBar"},{"attributes":{"data":{"top":{"__ndarray__":"gLhMpVeJlT9i+w9TC4rXPxgNAP/Wut4/jwWFssD55z9oj5Y4eLrfP11Zp2/nHuc/gB0F+Jqx7z8Afx0HeYSEP50FSZQY1e0/es9pl9hu2T8=","dtype":"float64","order":"little","shape":[10]},"x":[1,2,3,4,5,6,7,8,9,10]},"selected":{"id":"3066"},"selection_policy":{"id":"3065"}},"id":"2922","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"group":null},"id":"3057","type":"Title"},{"attributes":{"source":{"id":"2922"}},"id":"2927","type":"CDSView"},{"attributes":{},"id":"2905","type":"BasicTicker"},{"attributes":{"axis":{"id":"2904"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2907","type":"Grid"},{"attributes":{"axis":{"id":"2900"},"coordinates":null,"group":null,"ticker":null},"id":"2903","type":"Grid"},{"attributes":{},"id":"2901","type":"BasicTicker"},{"attributes":{},"id":"2913","type":"HelpTool"},{"attributes":{},"id":"2898","type":"LinearScale"},{"attributes":{"coordinates":null,"formatter":{"id":"3060"},"group":null,"major_label_policy":{"id":"3061"},"ticker":{"id":"2905"}},"id":"2904","type":"LinearAxis"},{"attributes":{"coordinates":null,"formatter":{"id":"3063"},"group":null,"major_label_policy":{"id":"3064"},"ticker":{"id":"2901"}},"id":"2900","type":"LinearAxis"},{"attributes":{},"id":"2896","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"top":{"field":"top"},"width":{"value":0.5},"x":{"field":"x"}},"id":"2925","type":"VBar"},{"attributes":{},"id":"3060","type":"BasicTickFormatter"},{"attributes":{"tools":[{"id":"2908"},{"id":"2909"},{"id":"2910"},{"id":"2911"},{"id":"2912"},{"id":"2913"}]},"id":"2915","type":"Toolbar"}],"root_ids":["2891"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"c8dab6a3-cac9-45cb-a801-b584e8767384","root_ids":["2891"],"roots":{"2891":"c91346b1-3f44-42f7-a20a-1ebb2225510d"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
</section>
<section id="ヒストグラム">
<h2>ヒストグラム<a class="headerlink" href="#ヒストグラム" title="Permalink to this heading">¶</a></h2>
<p>ヒストグラムの描画には、<code class="docutils literal notranslate"><span class="pre">quad()</span></code> メソッドが便利です。 次の例では、<code class="docutils literal notranslate"><span class="pre">numpy.random.randn()</span></code> 関数を用いて、正規分布に基づく 1000 個の数値の要素からなる配列を用意し、<code class="docutils literal notranslate"><span class="pre">numpy.histogram()</span></code> 関数を使って20個のビンに分類したヒストグラムを計算しています。 その計算結果を、<code class="docutils literal notranslate"><span class="pre">quad()</span></code> メソッドを使って、描画しています。 ビンの境界を見やすくするように、<code class="docutils literal notranslate"><span class="pre">line_color</span></code> と <code class="docutils literal notranslate"><span class="pre">fill_color</span></code>（デフォルト色）を別の色にしています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 正規分布に基づく1000個の数値の要素からなる配列</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="c1"># numpy.histogramで20のビンに分割</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">bin_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="n">hist</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">bin_edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="n">bin_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="df10f111-bfbc-4802-af62-437370e1379c" data-root-id="3123"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"2ef08a9f-f1a6-4cd2-925d-75ba1909f496":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3132"}],"center":[{"id":"3135"},{"id":"3139"}],"left":[{"id":"3136"}],"renderers":[{"id":"3158"}],"title":{"id":"3300"},"toolbar":{"id":"3147"},"x_range":{"id":"3124"},"x_scale":{"id":"3128"},"y_range":{"id":"3126"},"y_scale":{"id":"3130"}},"id":"3123","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"formatter":{"id":"3306"},"group":null,"major_label_policy":{"id":"3307"},"ticker":{"id":"3133"}},"id":"3132","type":"LinearAxis"},{"attributes":{"coordinates":null,"formatter":{"id":"3303"},"group":null,"major_label_policy":{"id":"3304"},"ticker":{"id":"3137"}},"id":"3136","type":"LinearAxis"},{"attributes":{},"id":"3143","type":"SaveTool"},{"attributes":{},"id":"3130","type":"LinearScale"},{"attributes":{},"id":"3145","type":"HelpTool"},{"attributes":{},"id":"3133","type":"BasicTicker"},{"attributes":{"axis":{"id":"3132"},"coordinates":null,"group":null,"ticker":null},"id":"3135","type":"Grid"},{"attributes":{},"id":"3144","type":"ResetTool"},{"attributes":{"axis":{"id":"3136"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"3139","type":"Grid"},{"attributes":{"source":{"id":"3154"}},"id":"3159","type":"CDSView"},{"attributes":{"coordinates":null,"group":null},"id":"3300","type":"Title"},{"attributes":{},"id":"3303","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"3146","type":"BoxAnnotation"},{"attributes":{"coordinates":null,"data_source":{"id":"3154"},"glyph":{"id":"3155"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"3157"},"nonselection_glyph":{"id":"3156"},"view":{"id":"3159"}},"id":"3158","type":"GlyphRenderer"},{"attributes":{},"id":"3140","type":"PanTool"},{"attributes":{"data":{"left":{"__ndarray__":"66qRO2nDCsBC5iZ0pj8IwJohvKzjuwXA8VxR5SA4A8BImOYdXrQAwECn96w2Yfy/7h0iHrFZ97+elEyPK1Lyv5gW7gBMleq/9AND40CG4L9QxV8W19zJv4AKmcCqvrw/6Gd868BN2z+URmmT67XnP5osilh74vA/7rVf5wDq9T8+PzV2hvH6P47ICgUM+f8/8SjwyUiAAkCZ7VqRCwQFQA==","dtype":"float64","order":"little","shape":[20]},"right":{"__ndarray__":"QuYmdKY/CMCaIbys47sFwPFcUeUgOAPASJjmHV60AMBAp/esNmH8v+4dIh6xWfe/npRMjytS8r+YFu4ATJXqv/QDQ+NAhuC/UMVfFtfcyb+ACpnAqr68P+hnfOvATds/lEZpk+u15z+aLIpYe+LwP+61X+cA6vU/Pj81dobx+j+OyAoFDPn/P/Eo8MlIgAJAme1akQsEBUBCssVYzocHQA==","dtype":"float64","order":"little","shape":[20]},"top":[2,3,6,10,16,25,62,78,96,110,127,106,116,94,57,42,27,14,5,4]},"selected":{"id":"3309"},"selection_policy":{"id":"3308"}},"id":"3154","type":"ColumnDataSource"},{"attributes":{},"id":"3304","type":"AllLabels"},{"attributes":{},"id":"3124","type":"DataRange1d"},{"attributes":{},"id":"3306","type":"BasicTickFormatter"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"3156","type":"Quad"},{"attributes":{},"id":"3307","type":"AllLabels"},{"attributes":{},"id":"3141","type":"WheelZoomTool"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.5},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.5},"left":{"field":"left"},"line_alpha":{"value":0.5},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"3155","type":"Quad"},{"attributes":{"tools":[{"id":"3140"},{"id":"3141"},{"id":"3142"},{"id":"3143"},{"id":"3144"},{"id":"3145"}]},"id":"3147","type":"Toolbar"},{"attributes":{},"id":"3126","type":"DataRange1d"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"left":{"field":"left"},"line_alpha":{"value":0.2},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"3157","type":"Quad"},{"attributes":{},"id":"3308","type":"UnionRenderers"},{"attributes":{},"id":"3137","type":"BasicTicker"},{"attributes":{},"id":"3309","type":"Selection"},{"attributes":{"overlay":{"id":"3146"}},"id":"3142","type":"BoxZoomTool"},{"attributes":{},"id":"3128","type":"LinearScale"}],"root_ids":["3123"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"2ef08a9f-f1a6-4cd2-925d-75ba1909f496","root_ids":["3123"],"roots":{"3123":"df10f111-bfbc-4802-af62-437370e1379c"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
</section>
<section id="ヒートマップ">
<h2>ヒートマップ<a class="headerlink" href="#ヒートマップ" title="Permalink to this heading">¶</a></h2>
<p>最後に、複雑な応用例として、ヒートマップの描画方法を示します。 次の例は、10x10 のマスに <code class="docutils literal notranslate"><span class="pre">0.0</span></code> 以上 <code class="docutils literal notranslate"><span class="pre">1.0</span></code> 未満の乱数の温度を割り当て、その値に応じた色で塗ったヒートマップです。 ここでは、これまでと違って、x軸、y軸、温度の3つの値が必要になります。 そこで、<code class="docutils literal notranslate"><span class="pre">bokeh.models.ColumnDataSource</span></code> 型を用いて、その3つ組を、<code class="docutils literal notranslate"><span class="pre">'x'</span></code>・<code class="docutils literal notranslate"><span class="pre">'y'</span></code>・<code class="docutils literal notranslate"><span class="pre">'T'</span></code> の属性を持った表データを構築しています。 この表データの構築には、7-1で説明するpandasも使えます。</p>
<p>ヒートマップでは、温度に応じた階調のある色選択が必要です。 そこで、色階調と値を対応付ける <code class="docutils literal notranslate"><span class="pre">bokeh.models.LinearColorMapper</span></code> 型の <code class="docutils literal notranslate"><span class="pre">mapper</span></code> を準備します。 <code class="docutils literal notranslate"><span class="pre">rect()</span></code> メソッドでは、表データの属性を参照して描画しています。 色は、表データの値を <code class="docutils literal notranslate"><span class="pre">mapper</span></code> に適用して色に変化させたものを用いることで、温度に応じた色選択を実現しています。 最後に、目盛り付きのカラーバーを生成して、右に配置しています。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">LinearColorMapper</span><span class="p">,</span> <span class="n">BasicTicker</span><span class="p">,</span> <span class="n">PrintfTickFormatter</span><span class="p">,</span> <span class="n">ColorBar</span><span class="p">,</span> <span class="n">ColumnDataSource</span>
<span class="kn">from</span> <span class="nn">bokeh.transform</span> <span class="kn">import</span> <span class="n">transform</span>

<span class="c1"># 10行10列のランダム要素からなる行列</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">yx</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">yx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">yx</span> <span class="o">//</span> <span class="n">n</span> <span class="k">for</span> <span class="n">yx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)],</span> <span class="s1">&#39;T&#39;</span> <span class="p">:</span> <span class="n">data</span><span class="p">})</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#75968f&#39;</span><span class="p">,</span> <span class="s1">&#39;#a5bab7&#39;</span><span class="p">,</span> <span class="s1">&#39;#c9d9d3&#39;</span><span class="p">,</span> <span class="s1">&#39;#e2e2e2&#39;</span><span class="p">,</span> <span class="s1">&#39;#dfccce&#39;</span><span class="p">,</span> <span class="s1">&#39;#ddb7b1&#39;</span><span class="p">,</span> <span class="s1">&#39;#cc7878&#39;</span><span class="p">,</span> <span class="s1">&#39;#933b41&#39;</span><span class="p">,</span> <span class="s1">&#39;#550b1d&#39;</span><span class="p">]</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">LinearColorMapper</span><span class="p">(</span><span class="n">palette</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">high</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">mapper</span><span class="p">))</span>
<span class="n">color_bar</span> <span class="o">=</span> <span class="n">ColorBar</span><span class="p">(</span><span class="n">color_mapper</span><span class="o">=</span><span class="n">mapper</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                     <span class="n">ticker</span><span class="o">=</span><span class="n">BasicTicker</span><span class="p">(</span><span class="n">desired_num_ticks</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)),</span>
                     <span class="n">formatter</span><span class="o">=</span><span class="n">PrintfTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%2.1f</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">color_bar</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div class="bk-root" id="96868e23-6770-498e-b57e-829079dfa252" data-root-id="3368"></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
(function(root) {
  function embed_document(root) {
  const docs_json = {"e6e0f9fa-66b8-4fd5-9dc3-8caddb699e36":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3377"}],"center":[{"id":"3380"},{"id":"3384"}],"left":[{"id":"3381"}],"renderers":[{"id":"3403"}],"right":[{"id":"3407"}],"title":{"id":"3559"},"toolbar":{"id":"3392"},"x_range":{"id":"3369"},"x_scale":{"id":"3373"},"y_range":{"id":"3371"},"y_scale":{"id":"3375"}},"id":"3368","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"3564","type":"NoOverlap"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"3391","type":"BoxAnnotation"},{"attributes":{},"id":"3386","type":"WheelZoomTool"},{"attributes":{},"id":"3385","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"field":"T","transform":{"id":"3367"}},"hatch_alpha":{"value":0.2},"height":{"value":1},"line_alpha":{"value":0.2},"line_color":{"value":null},"width":{"value":1},"x":{"field":"x"},"y":{"field":"y"}},"id":"3402","type":"Rect"},{"attributes":{"overlay":{"id":"3391"}},"id":"3387","type":"BoxZoomTool"},{"attributes":{"coordinates":null,"group":null},"id":"3559","type":"Title"},{"attributes":{},"id":"3388","type":"SaveTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"T","transform":{"id":"3367"}},"hatch_alpha":{"value":0.1},"height":{"value":1},"line_alpha":{"value":0.1},"line_color":{"value":null},"width":{"value":1},"x":{"field":"x"},"y":{"field":"y"}},"id":"3401","type":"Rect"},{"attributes":{},"id":"3389","type":"ResetTool"},{"attributes":{"high":0.9789327228044216,"low":0.0015753049118367723,"palette":["#75968f","#a5bab7","#c9d9d3","#e2e2e2","#dfccce","#ddb7b1","#cc7878","#933b41","#550b1d"]},"id":"3367","type":"LinearColorMapper"},{"attributes":{},"id":"3566","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"field":"T","transform":{"id":"3367"}},"height":{"value":1},"line_color":{"value":null},"width":{"value":1},"x":{"field":"x"},"y":{"field":"y"}},"id":"3400","type":"Rect"},{"attributes":{"data":{"T":{"__ndarray__":"YGjN5G0mtj/iu9WwifXpP1oJ/sWmoug/0B9ZAxbZ0j8A3PbETs9ZPyyW3iQL+u4/ShZ4FxG34j/UvBkAk7vAP7gRHRlIWr8/pofreUJq0T/0mTfqq0PiP04/Aer7ZdM/jDqdDUi1wT+w+MMpt83OP1BIDGZ0Hrg/z+lucovv5j/xtc1PtfXsP2iOpL9Sgd8/BIfh7as24z8n2qXu7MruPxka/PQHY+w/4vFDcXSS5z8JQpUBV6HoP3yOgc7s+s8/uGlK41H70D/JvKVaQGbuP8x2U6bmmt0/gOxXt3CI6D9oiCYN3BjBP6DT3SP1lr4/uPyArVCzwD/6ZmMoAbjbPw4rVId2l+M/AMQPfkf7tT/A5B9Sh6bIPx7ggarSX+Q/NLytt2pT7z/0DcfPE3TBPwCSATFT3Y0/uE2UXdLz5j/QsDMeeiujP6T7TXCmYcU/UPdbUg5XyT8rmR3UxK/pP9gPaZRfwsA/WCRzfIX93T+UWFO4LzDFP7nQSW0wOu0/k/z9euxv6j+s/44fhunRP0AWBrCAycY/8MEraB3L4j+KofWHEdPnP3aXs6TKo+Y/Al1cXPUJ0D8IAXuOO7vtPywyj2qqqNI/iU0BNFQH6T+Mzk76Si3UP1CMpoU4iMY/Ga+OU2p+5j92JIpLBv7WP4L0pwpHUOE/kmEmNhXr7T8kPRYlVXjhP6iMUNs/VM8/xLshegU55T/ASeEK+7HPP0B3pB7E2OQ/RkQxglk26z8nFg5K/pLkP1hZSfcy2cM/evUON5bv0z//29Hq+bjuPz2XJpZKVe4/zWCpVPBb4j8WyXA/XU3cP+j211bt1r8/DdH5DSpZ5j802EH2bv/SP4D7BylmNqw/WBJV9JkL3D9mHkB93FnfP2SxnhKU3sw/YAvvzO0xlT8Citf67rbqP5Adl2KBOqU/YAEgm3MM1j/0HA8M5tLRP0JHXHSPmeY/tj2+5A/95j85w/hkXYToP+sjLu+6/+g/z/nAnHwX5D+tL7BUhCThP/HfGMdrCOU/KjEi+gkR3D8bH20EJaHgP27g06vTPOI/B1v/xUhK7T8=","dtype":"float64","order":"little","shape":[100]},"x":[0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9],"y":[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9]},"selected":{"id":"3569"},"selection_policy":{"id":"3568"}},"id":"3366","type":"ColumnDataSource"},{"attributes":{},"id":"3569","type":"Selection"},{"attributes":{},"id":"3371","type":"DataRange1d"},{"attributes":{"tools":[{"id":"3385"},{"id":"3386"},{"id":"3387"},{"id":"3388"},{"id":"3389"},{"id":"3390"}]},"id":"3392","type":"Toolbar"},{"attributes":{"desired_num_ticks":9},"id":"3405","type":"BasicTicker"},{"attributes":{},"id":"3369","type":"DataRange1d"},{"attributes":{"color_mapper":{"id":"3367"},"coordinates":null,"formatter":{"id":"3406"},"group":null,"location":[0,0],"major_label_policy":{"id":"3564"},"ticker":{"id":"3405"}},"id":"3407","type":"ColorBar"},{"attributes":{},"id":"3567","type":"AllLabels"},{"attributes":{},"id":"3373","type":"LinearScale"},{"attributes":{"source":{"id":"3366"}},"id":"3404","type":"CDSView"},{"attributes":{"coordinates":null,"formatter":{"id":"3566"},"group":null,"major_label_policy":{"id":"3567"},"ticker":{"id":"3378"}},"id":"3377","type":"LinearAxis"},{"attributes":{"coordinates":null,"formatter":{"id":"3562"},"group":null,"major_label_policy":{"id":"3563"},"ticker":{"id":"3382"}},"id":"3381","type":"LinearAxis"},{"attributes":{},"id":"3375","type":"LinearScale"},{"attributes":{},"id":"3390","type":"HelpTool"},{"attributes":{},"id":"3562","type":"BasicTickFormatter"},{"attributes":{},"id":"3378","type":"BasicTicker"},{"attributes":{"axis":{"id":"3377"},"coordinates":null,"group":null,"ticker":null},"id":"3380","type":"Grid"},{"attributes":{"axis":{"id":"3381"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"3384","type":"Grid"},{"attributes":{},"id":"3563","type":"AllLabels"},{"attributes":{},"id":"3382","type":"BasicTicker"},{"attributes":{"format":"%2.1f"},"id":"3406","type":"PrintfTickFormatter"},{"attributes":{},"id":"3568","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"3366"},"glyph":{"id":"3400"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"3402"},"nonselection_glyph":{"id":"3401"},"view":{"id":"3404"}},"id":"3403","type":"GlyphRenderer"}],"root_ids":["3368"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"e6e0f9fa-66b8-4fd5-9dc3-8caddb699e36","root_ids":["3368"],"roots":{"3368":"96868e23-6770-498e-b57e-829079dfa252"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script></div>
</div>
</section>
<section id="グラフのファイル出力">
<h2>グラフのファイル出力<a class="headerlink" href="#グラフのファイル出力" title="Permalink to this heading">¶</a></h2>
<p>これまで表示されてきたグラフには画像保存ボタンがあるので、それをクリックすればPNG形式の画像を保存できます。</p>
<p><code class="docutils literal notranslate"><span class="pre">bokeh.plotting.output_file()</span></code> を用いると、グラフ単独をHTMLファイルとして保存できるようになります。 ただし、既に <code class="docutils literal notranslate"><span class="pre">output_notebook()</span></code> を読んでいる場合、<code class="docutils literal notranslate"><span class="pre">bokeh.plotting.reset_output()</span></code> で状態をリセットする必要があります。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">save</span><span class="p">,</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">reset_output</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;sin Curves&#39;</span><span class="p">,</span> <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">reset_output</span><span class="p">()</span> <span class="c1"># output_notebook()の効果を消す</span>
<span class="n">output_file</span><span class="p">(</span><span class="s1">&#39;sin.html&#39;</span><span class="p">)</span> <span class="c1"># 出力先の設定</span>
<span class="n">save</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="c1"># グラフを保存するだけ</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="c1"># 保存した上でブラウザを開く</span>
</pre></div>
</div>
</div>
<p><strong>注意</strong>：<code class="docutils literal notranslate"><span class="pre">output_notebook()</span></code> を呼んだ状態と <code class="docutils literal notranslate"><span class="pre">output_file()</span></code> を呼んだ状態が重なると、<code class="docutils literal notranslate"><span class="pre">show()</span></code> でエラーが起きます。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Pythonプログラミング入門</a></h1>








<p>
  <a style="font-family: sans-serif; font-size: smaller; background: linear-gradient(to top, #353535 0%, #141414 100%); -webkit-font-smoothing: antialiased; font-weight: normal; text-shadow: rgb(0 0 0 / 40%) 0 -1px 0; padding: 2px 6px; color: #fff; text-decoration: none; border-radius: 4px; border: 1px solid #0d0d0d; box-shadow: inset 0 1px 1px 0 #8f8f8f;" href="https://github.com/utokyo-ipp/utokyo-ipp.github.io">View on GitHub</a>
</p><p>
  <a style="font-family: sans-serif; font-size: smaller; background: linear-gradient(to top, #ff1e00 0%, #de1e00 100%); -webkit-font-smoothing: antialiased; font-weight: normal; text-shadow: rgb(0 0 0 / 40%) 0 -1px 0; padding: 2px 6px; color: #fff; text-decoration: none; border-radius: 4px; border: 1px solid #0d0d0d; box-shadow: inset 0 1px 1px 0 #ff8e70;" href="https://utokyo-ipp.github.io/IPP_textbook.pdf">View PDF</a>
</p><p>
  <a style="border-bottom: none;" href="https://colab.research.google.com/github/utokyo-ipp/utokyo-ipp.github.io/blob/master/colab/appendix/5-bokeh.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Google Colaboratory"></a>
</p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1/1-0.html">1-0. Colaboratory (Colab) の使い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/1-1.html">1-1. 数値演算</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/1-2.html">1-2. 変数と関数の基礎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/1-3.html">1-3. 論理・比較演算と条件分岐の基礎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/1-4.html">1-4. テストとデバッグ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2/2-1.html">2-1. 文字列 (string)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2/2-2.html">2-2. リスト (list)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2/2-3.html">2-3. 条件分岐</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3/3-1.html">3-1. 辞書 (dictionary)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3/3-2.html">3-2. 繰り返し</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3/3-3.html">3-3. 関数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4/4-1.html">4-1. ファイル入出力の基本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4/4-2.html">4-2. イテラブルとイテレータ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4/4-3.html">4-3. ディレクトリと木構造</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5/5-1.html">5-1. モジュールの使い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5/5-2.html">5-2. モジュールの作り方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5/5-3.html">5-3. NumPyライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6/6-1.html">6-1. 内包表記</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6/6-2.html">6-2. 高階関数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6/6-3.html">6-3. クラス</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7/7-1.html">7-1. pandasライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7/7-2.html">7-2. scikit-learnライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-jupyter-notebook.html">▲Jupyter Notebook の使い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-set.html">▲セット (set)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-recursion.html">▲再帰</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-visualization.html">▲簡単なデータの可視化</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-csv.html">▲CSVファイルの入出力</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">▲Bokehライブラリ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#線グラフ">線グラフ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#散布図">散布図</a></li>
<li class="toctree-l2"><a class="reference internal" href="#棒グラフ">棒グラフ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ヒストグラム">ヒストグラム</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ヒートマップ">ヒートマップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#グラフのファイル出力">グラフのファイル出力</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5-command.html">▲Pythonスクリプトとコマンドライン実行</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-matplotlib.html">▲Matplotlibライブラリ</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-re.html">▲正規表現</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_of_terms.html">索引</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="4-csv.html" title="previous chapter">▲CSVファイルの入出力</a></li>
      <li>Next: <a href="5-command.html" title="next chapter">▲Pythonスクリプトとコマンドライン実行</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020–2023, 東京大学 数理・情報教育研究センター (CC BY-NC-ND 4.0).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-159819977-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>